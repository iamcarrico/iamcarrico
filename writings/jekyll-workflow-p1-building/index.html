<!DOCTYPE html> <!--[if lt IE 9]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en-us"> <!--<![endif]--><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Jekyll Workflow Part 1: Building a Site</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta property="og:title" content="Jekyll Workflow Part 1: Building a Site"><meta property="og:type" content="article"><meta property="article:published_time" content="2014-08-12T04:00:00-05:00"><meta property="article:author" content="http://iamcarrico.com/about/"><meta property="og:url" content="http://iamcarrico.com/writings/jekyll-workflow-p1-building/"><link rel="canonical" href="/writings/jekyll-workflow-p1-building/"/><meta property="og:image" content="http://iamcarrico.com/img/2014/jekyll.png"><meta property="article:tag" content="jekyll"><meta property="article:tag" content="yeoman"><meta property="article:tag" content="mr. poole"> <esi:include src="/header.php"/></head><body><header><h1 class="site-name title"><a href="/"><span class="word">I. </span><span class="word">Am. </span><span class="word">Carrico.</span></a></h1> <nav id="nav" role="navigation"><div class="menubar" role="menubar"> <a class="menuitem" role="menuitem" href="/">Home</a> <a class="menuitem" role="menuitem" href="/about/">About</a> <a class="menuitem" role="menuitem" href="/contact/">Contact</a> <a class="menuitem" role="menuitem" href="/talks/">Talks</a></div> </nav> </header><main role="main"> <article class="blog-post full"><h1 class="title">Jekyll Workflow Part 1: Building a Site</h1><div class="metadatas"> <span class="categories"> <span class="category">jekyll</span> <span class="category">yeoman</span> <span class="category">mr. poole</span> </span> -  <span class="date">2014-08-12</span></div><div class="content"><p><img src="/img/2014/jekyll.png" alt="Jekyll.rb"> <a href="http://jekyllrb.com/">Jekyll</a> has become one of the best static site generators, rising to popularity in no small part because of its use on <a href="https://pages.github.com/">GitHub Pages</a>. It is incredibly simple and easy to begin making awesome static sites or blogs, with very little effort. This month I am doing a 4 part series of blog posts on how to create, deploy and automate a site on Jekyll, all while ensuring it is as performant as possible. These tools are all used on my own site and several smaller sites that I have worked on. The code is all available on GitHub.</p><h2 id="creating-a-site">Creating a site</h2><p>First off, make sure that all required dependencies are installed. For the Ruby pieces of Jekyll only <a href="http://bundler.io/">Bundler</a> is needed. Everything else will run through <a href="http://nodejs.org/download/">Node.js</a> and to install the required npm packages:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install -g yo bower gulp generator-poole
</code></pre></div><p>Now that everything is installed creating a Jekyll site is as easy as using <a href="https://github.com/iamcarrico/generator-poole">Mr. Poole, the Jekyll Site Generator</a>:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>yo poole
</code></pre></div><p>Yeoman will ask you a few questions about your project and voilà: a fully-featured Jekyll site will be born. Just for you.</p><h2 id="but-it-is-ugly!">But it is ugly!</h2><p>Well, yes. But the markup is pretty. And that is what really matters, isn't it?</p><p>More importantly, all CSS and styling have been torn away so that you have full control of your Jekyll site from Day One. It is built to be ultra-flexible and simple to generate the perfect looking site. It makes no assumptions on the best way to do that, except giving the developer Sass and some base extensions to start with.</p><h2 id="how-do-i-use-it?">How do I use it?</h2><p>Glad you asked. This is where Mr. Poole has worked hard to get the site exactly what it needs. Most of all, it has been finely tuned to make development as easy as possible, while including many best-practices.</p><h3 id="navigation">Navigation</h3><p>Navigation is controlled by the data within <code>_data/navigation.yml</code>. By putting navigation inside a Yaml file we can add on 'active' and 'active-trail' classes when we are on the active link. A new link can be added easily by adding something like this to the navigation.yml file.</p><div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Contact</span>
  <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/contact/</span>
</code></pre></div><h3 id="gulp-/-browser-sync">Gulp / Browser Sync</h3><p>The true power of Mr. Poole's power lies within the Gulp scripts that will automate many frontend tasks for you. It will compile your Sass, include vendor-prefixes, minify images, run a development server with <a href="http://www.browsersync.io/">BrowserSync</a> and deploy to <a href="https://pages.github.com/">GitHub Pages</a>.</p><p>To compile all of our Sass files using compass, use:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gulp sass
</code></pre></div><p>To ensure all of our images are optimized:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gulp images
</code></pre></div><p>To build our Jekyll site and serve it using BrowserSync. This will watch our files and ensure the proper tasks are run for us on their change. It will also automatically update our site, without the need for a refresh, all through BrowserSync. This should be the command that is run the most, as it will also compile the Sass files and minify images.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gulp server
</code></pre></div><p>To build our site for production and save the result in '_site':</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gulp build
</code></pre></div><p>To build the site for production and deploy that code to our gh-pages branch for us:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gulp deploy
</code></pre></div><h3 id="asset-pipeline">Asset pipeline</h3><p>The last piece of the generator is the use of <a href="https://github.com/ixti/jekyll-assets">Jekyll Assets</a> to handle cache busting and minification. It is built to allow for CSS to be developed locally, in an expanded state, then for production it will minify the CSS files. It will also allow for caches to be busted on CSS files and images if they ever change. The forth blog post in this series will go over best practices with the asset pipeline and how to properly utilize it.</p><h2 id="more-information">More information</h2><p>This post is just the first in a four part series on how the generator was built and the code that runs it. Although all of this power is given for free using <a href="https://github.com/iamcarrico/generator-poole">Mr. Poole</a>, each post will go into a piece of how the generator runs and how to best take advantage of its power.</p></div><div class="comments"><div id="disqus_thread"></div> <script>var disqus_shortname="iamcarrico";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src="//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq)})()</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></article></main><footer role="contentinfo"><div class="inner"> <span class="contact"> <a href="http://github.com/iamcarrico/" target="_blank" class="github">github.com/iamcarrico</a> <a href="http://twitter.com/iamcarrico/" target="_blank" class="twitter">twitter.com/iamcarrico</a> <a href="http://about.me/iancarrico" target="_blank" class="about-me">about.me/iancarrico</a> </span><span class="copyright"> © 2014 Ian Carrico </span></div> </footer> <script>(function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-40742161-1","iamcarrico.com");ga("send","pageview")</script></body></html>